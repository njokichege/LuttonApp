@page "/Pages/ManageExaminations"

@inherits ManageExaminationBase

<style>
    .selected {
        background-color: #FFBC42 !important;
    }

        .selected > td {
            color: white !important;
        }

            .selected > td .mud-input {
                color: white !important;
            }
</style>

<PageTitle>Examination</PageTitle>

<MudGrid Class="mt-n16 px-5" Style="@($"background:#ffffff;")">
    <MudItem xs="9">
        <MudText Typo="Typo.h5" Class="d-flex pt-2 justify-start"><b>Manage Examination</b></MudText>
    </MudItem>
    <MudItem xs="3" Class="d-flex justify-end">
        <MudIconButton Icon="@Icons.Material.Filled.Message" Color="Color.Inherit" Edge="Edge.End" />
        <MudIconButton Icon="@Icons.Material.Filled.Notifications" Color="Color.Inherit" Edge="Edge.End" />
    </MudItem>
</MudGrid>
<MudDivider DividerType="DividerType.FullWidth" />

<MudTabs ApplyEffectsToContainer="true" Elevation="0" Border="true" Color="Color.Surface" AlwaysShowScrollButtons="false" >
    <MudTabPanel Text="Term One">
        <MudTabs Class="ma-10" Elevation="2" ApplyEffectsToContainer="true" Border="true" Color="Color.Surface">
            <MudTabPanel Text="Mid Term Exam">
                <MudGrid Class="d-flex pa-4">
                    <MudItem xs="12" Class="d-flex justify-space-between">
                        @if (showTermOneMidTerm is false)
                        {
                            <MudProgressLinear Color="Color.Tertiary" Size="Size.Small" Indeterminate="true" Class="mt-4" />
                        }
                        else
                        {
                            <MudTable Bordered="true" Elevation="0" RowClassFunc="@SelectedRowClassFunc" @ref="mudTable" Items="@TermOneMidTerm" FixedHeader="true" Hover="true" SortLabel="Sort By" Striped="true" OnRowClick="ClassRowClickEvent" T="SchoolPerformanceModel" Dense="true">
                                <HeaderContent>
                                    <MudTh>Form</MudTh>
                                    <MudTh>Stream</MudTh>
                                    <MudTh>ClassAverage</MudTh>
                                    <MudTh>Grade</MudTh>
                                </HeaderContent>
                                <RowTemplate>
                                    <MudTd DataLabel="Form">@context.Class.Form.Form</MudTd>
                                    <MudTd DataLabel="Stream">@context.Class.Stream.Stream</MudTd>
                                    <MudTd DataLabel="ClassAverage">@context.ClassAverage.ToString("0.00")</MudTd>
                                    <MudTd DataLabel="Grade">@context.Grade.Grade</MudTd>
                                </RowTemplate>
                                <PagerContent>
                                    <MudTablePager />
                                </PagerContent>
                            </MudTable>
                        }
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
            <MudTabPanel Text="End Term Exam">
                <MudGrid Class="d-flex pa-4">
                    <MudItem xs="12" Class="d-flex justify-space-between">
                        @if (showTermOneEndTerm is false)
                        {
                            <MudProgressLinear Color="Color.Tertiary" Size="Size.Small" Indeterminate="true" Class="mt-4" />
                        }
                        else
                        {
                            <MudTable Bordered="true" Elevation="0" Dense="true" RowClassFunc="@SelectedRowClassFunc" @ref="mudTable" Items="@TermOneEndTerm" FixedHeader="true" Hover="true" SortLabel="Sort By" Striped="true" OnRowClick="ClassRowClickEvent" T="SchoolPerformanceModel">
                                <HeaderContent>
                                    <MudTh>Form</MudTh>
                                    <MudTh>Stream</MudTh>
                                    <MudTh>ClassAverage</MudTh>
                                    <MudTh>Grade</MudTh>
                                </HeaderContent>
                                <RowTemplate>
                                    <MudTd DataLabel="Form">@context.Class.Form.Form</MudTd>
                                    <MudTd DataLabel="Stream">@context.Class.Stream.Stream</MudTd>
                                    <MudTd DataLabel="ClassAverage">@context.ClassAverage.ToString("0.00")</MudTd>
                                    <MudTd DataLabel="Grade">@context.Grade.Grade</MudTd>
                                </RowTemplate>
                                <PagerContent>
                                    <MudTablePager />
                                </PagerContent>
                            </MudTable>
                        }
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
        </MudTabs>
    </MudTabPanel>
    <MudTabPanel Text="Term Two">
        <MudTabs Class="ma-10" Elevation="2" ApplyEffectsToContainer="true" Border="true" Color="Color.Surface">
            <MudTabPanel Text="Mid Term Exam">
                <MudGrid Class="d-flex pa-4">
                    <MudItem xs="12" Class="d-flex justify-space-between">
                        @if (showTermTwoMidTerm is false)
                        {
                            <MudProgressLinear Color="Color.Tertiary" Size="Size.Small" Indeterminate="true" Class="mt-4" />
                        }
                        else
                        {
                            <MudTable Bordered="true" Elevation="0" Dense="true" RowClassFunc="@SelectedRowClassFunc" @ref="mudTable" Items="@TermTwoMidTerm" FixedHeader="true" Hover="true" SortLabel="Sort By" Striped="true" OnRowClick="ClassRowClickEvent" T="SchoolPerformanceModel">
                                <HeaderContent>
                                    <MudTh>Form</MudTh>
                                    <MudTh>Stream</MudTh>
                                    <MudTh>ClassAverage</MudTh>
                                    <MudTh>Grade</MudTh>
                                </HeaderContent>
                                <RowTemplate>
                                    <MudTd DataLabel="Form">@context.Class.Form.Form</MudTd>
                                    <MudTd DataLabel="Stream">@context.Class.Stream.Stream</MudTd>
                                    <MudTd DataLabel="ClassAverage">@context.ClassAverage.ToString("0.00")</MudTd>
                                    <MudTd DataLabel="Grade">@context.Grade.Grade</MudTd>
                                </RowTemplate>
                                <PagerContent>
                                    <MudTablePager />
                                </PagerContent>
                            </MudTable>
                        }
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
            <MudTabPanel Text="End Term Exam">
                <MudGrid Class="d-flex pa-4">
                    <MudItem xs="12" Class="d-flex justify-space-between">
                        @if (showTermTwoEndTerm is false)
                        {
                            <MudProgressLinear Color="Color.Tertiary" Size="Size.Small" Indeterminate="true" Class="mt-4" />
                        }
                        else
                        {
                            <MudTable Bordered="true" Elevation="0" Dense="true" RowClassFunc="@SelectedRowClassFunc" @ref="mudTable" Items="@TermTwoEndTerm" FixedHeader="true" Hover="true" SortLabel="Sort By" Striped="true" OnRowClick="ClassRowClickEvent" T="SchoolPerformanceModel">
                                <HeaderContent>
                                    <MudTh>Form</MudTh>
                                    <MudTh>Stream</MudTh>
                                    <MudTh>ClassAverage</MudTh>
                                    <MudTh>Grade</MudTh>
                                </HeaderContent>
                                <RowTemplate>
                                    <MudTd DataLabel="Form">@context.Class.Form.Form</MudTd>
                                    <MudTd DataLabel="Stream">@context.Class.Stream.Stream</MudTd>
                                    <MudTd DataLabel="ClassAverage">@context.ClassAverage.ToString("0.00")</MudTd>
                                    <MudTd DataLabel="Grade">@context.Grade.Grade</MudTd>
                                </RowTemplate>
                                <PagerContent>
                                    <MudTablePager />
                                </PagerContent>
                            </MudTable>
                        }
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
        </MudTabs>
    </MudTabPanel>
    <MudTabPanel Text="Term Three">
        <MudTabs Class="ma-10" Elevation="2" ApplyEffectsToContainer="true" Border="true" Color="Color.Surface">
            <MudTabPanel Text="Mid Term Exam">
                <MudGrid Class="d-flex pa-4">
                    <MudItem xs="12" Class="d-flex justify-space-between">
                        @if (showTermThreeMidTerm is false)
                        {
                            <MudProgressLinear Color="Color.Tertiary" Size="Size.Small" Indeterminate="true" Class="mt-4" />
                        }
                        else
                        {
                            <MudTable Bordered="true" Elevation="0" Dense="true" RowClassFunc="@SelectedRowClassFunc" @ref="mudTable" Items="@TermThreeMidTerm" FixedHeader="true" Hover="true" SortLabel="Sort By" Striped="true" OnRowClick="ClassRowClickEvent" T="SchoolPerformanceModel">
                                <HeaderContent>
                                    <MudTh>Form</MudTh>
                                    <MudTh>Stream</MudTh>
                                    <MudTh>ClassAverage</MudTh>
                                    <MudTh>Grade</MudTh>
                                </HeaderContent>
                                <RowTemplate>
                                    <MudTd DataLabel="Form">@context.Class.Form.Form</MudTd>
                                    <MudTd DataLabel="Stream">@context.Class.Stream.Stream</MudTd>
                                    <MudTd DataLabel="ClassAverage">@context.ClassAverage.ToString("0.00")</MudTd>
                                    <MudTd DataLabel="Grade">@context.Grade.Grade</MudTd>
                                </RowTemplate>
                                <PagerContent>
                                    <MudTablePager />
                                </PagerContent>
                            </MudTable>
                        }
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
            <MudTabPanel Text="End Term Exam">
                <MudGrid Class="d-flex pa-4">
                    <MudItem xs="12" Class="d-flex justify-space-between">
                        @if (showTermThreeEndTerm is false)
                        {
                            <MudProgressLinear Color="Color.Tertiary" Size="Size.Small" Indeterminate="true" Class="mt-4" />
                        }
                        else
                        {
                            <MudTable Bordered="true" Elevation="0" Dense="true" RowClassFunc="@SelectedRowClassFunc" @ref="mudTable" Items="@TermThreeEndTerm" FixedHeader="true" Hover="true" SortLabel="Sort By" Striped="true" OnRowClick="ClassRowClickEvent" T="SchoolPerformanceModel">
                                <HeaderContent>
                                    <MudTh>Form</MudTh>
                                    <MudTh>Stream</MudTh>
                                    <MudTh>ClassAverage</MudTh>
                                    <MudTh>Grade</MudTh>
                                </HeaderContent>
                                <RowTemplate>
                                    <MudTd DataLabel="Form">@context.Class.Form.Form</MudTd>
                                    <MudTd DataLabel="Stream">@context.Class.Stream.Stream</MudTd>
                                    <MudTd DataLabel="ClassAverage">@context.ClassAverage.ToString("0.00")</MudTd>
                                    <MudTd DataLabel="Grade">@context.Grade.Grade</MudTd>
                                </RowTemplate>
                                <PagerContent>
                                    <MudTablePager />
                                </PagerContent>
                            </MudTable>
                        }
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
        </MudTabs>
    </MudTabPanel>
</MudTabs>
