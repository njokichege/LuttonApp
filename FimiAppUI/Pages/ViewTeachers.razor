@page "/Pages/ViewTeachers"

@inherits ViewTeachersBase

<PageTitle>View Teachers</PageTitle>

<MudGrid Class="mt-n16 px-5" Style="@($"background:#ffffff;")">
    <MudItem xs="9">
        <MudText Typo="Typo.h5" Class="d-flex pt-2 justify-start"><b>View Teachers</b></MudText>
    </MudItem>
    <MudItem xs="3" Class="d-flex justify-end">
        <MudIconButton Icon="@Icons.Material.Filled.Message" Color="Color.Inherit" Edge="Edge.End" />
        <MudIconButton Icon="@Icons.Material.Filled.Notifications" Color="Color.Inherit" Edge="Edge.End" />
    </MudItem>
</MudGrid>

<MudGrid Class="d-flex justify-center pa-4">
    <MudItem xs="12">
        @if (Teachers is null)
        {
            <MudProgressCircular Size="Size.Large" Color="Color.Secondary" Indeterminate="true" />
        }
        else 
        {
            <MudTable Elevation="0" Items="@Teachers" FixedHeader="true" Hover="true" SortLabel="Sort By" Striped="true" OnRowClick="TeacherRowClickEvent" T="TeacherModel" Dense="true">
                <HeaderContent>
                    <MudTh><MudTableSortLabel InitialDirection="SortDirection.Ascending" SortBy="new Func<StaffModel, object>(x=>x.NationalId)">NationalId</MudTableSortLabel></MudTh>
                    <MudTh>Name</MudTh>
                    <MudTh>Teacher Type</MudTh>
                    <MudTh>TSC Number</MudTh>
                    <MudTh>Employment Date</MudTh>
                    <MudTh>Gender</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd DataLabel="Student Number">@context.Staff.NationalId</MudTd>
                    <MudTd DataLabel="Name">@context.Staff.FirstName @context.Staff.MiddleName @context.Staff.Surname</MudTd>
                    <MudTd DataLabel="Age">@context.TeacherType</MudTd>
                    <MudTd DataLabel="Gender">@context.TSCNumber</MudTd>
                    <MudTd DataLabel="Date of Birth">@context.Staff.EmploymentDate.Value.ToShortDateString()</MudTd>
                    <MudTd DataLabel="Admission Date">@context.Staff.Gender</MudTd>
                </RowTemplate>
                <PagerContent>
                    <MudTablePager />
                </PagerContent>
            </MudTable>
        }
    </MudItem>
</MudGrid>
